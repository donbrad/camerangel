<div data-role="view" id="archive" data-title="Archive" data-layout="main" data-stretch="true" data-init="window.archiveView.init">  
	 <div data-role="header">
		<div data-role="navbar">
			<span data-role="view-title"></span>
			<a data-role="button" href="#appDrawer" data-rel="drawer" data-align="left"><img src="images/menu-icon.svg"/></a>
		</div>
	</div>
	<main>
		<div id="search-archives">
			<button data-role="button" data-click="archiveView.toggleSearch"><img height="18" src="images/gallery-search.svg" /> </button>
			<div>
				<ul id="archive-filters" data-role="buttongroup">
					<li class="contacts"><img src="images/gallery-user.svg" /></li>
					<li class="chat"><img src="images/gallery-chat.svg" /></li>
					<li class="date"><img src="images/gallery-cal.svg" /></li>
					<li class="place"><img src="images/gallery-place.svg" /></li>
					<li class="search"><img src="images/gallery-search.svg" /></li>
				</ul>

				<input type="search" placeholder="Search archive..." />

				<ul class="tags">
					<li><img src="images/gallery-user.svg" />Don<button></button></li>
					<li><img src="images/gallery-chat.svg" />myplacez design<button></button></li>
				</ul>
			</div>
		</div>

		<div id="archive-list" data-role="scroller">
			<ul data-role="listview" data-source="archive.dataSource" data-template="archive-template"></ul>
		</div>

		<div id="archive-empty">Your archive is empty</div>
		<div id="archive-search-empty">Nothing found</div>
	<main>
</div>

<script type="text/x-kendo-template" id="archive-template">
	<header>
		# if (data.message.sender.image) { #
			<img src="#= data.message.sender.image #" />
		# } else { #
			<img src="images/ghost-default.svg" />
		# } #
		<button class="delete" data-role="button" data-click="archiveView.deleteDoc" data-id="#= data.id #"></button>
		<h1>#= data.message.sender.name #</h1><br />
		<h2>#= moment(data.message.date).fromNow() # in <strong>#= data.message.channelName #</strong></h2>
	</header>
	<div class="message">#= data.message.text #</div>
	# if (data.type === 'Events') { # 
		<div class="event object">
			<h1>#= data.object.name #</h1>
			<h2>at <strong>#= data.object.placeName #</strong> #= data.object.address #</h2>
			# if (moment().isBefore(data.object.start)) { #
				<span>starts #= moment(data.object.start).fromNow() #</span>
			# } else if (moment().isAfter(data.object.end)) { #
				<span>ended #= moment(data.object.start).fromNow() #</span>
			# } else { #
				<span>happening now! #= moment(data.object.start).format('h:mma') # to #= moment(data.object.end).format('h:mma') #</span>
			# } #
		</div>
	# } #
	# if (data.type === 'Links') { # 
		<div class="link object" data-url="#= data.object.url #">
			<h1>#= data.object.title #</h1>
			<h2>#= data.object.url #</h2>
		</div>
	# } #
	# if (data.type === 'Photos') { # 
		<div class="photo object">
			<img src="#= data.object.url #" />
			<h2><strong>#= data.object.placeName #, #= data.object.address #</strong> <span>#= moment(data.object.date).fromNow() #</h2><span>
		</div> 
	# } #
</script>