<div data-role="view" id="archive" data-title="Archive" data-layout="main" data-stretch="true" data-init="window.archiveView.init">  

	<main>
		<div id="search-archives">
			
			<button data-role="button" data-click="archiveView.toggleSearch"><img height="18" src="images/sentinel-search.svg" /> </button>
			<div>
				

				<input type="search" placeholder="Search archive..." />

				<ul class="tags">
					<!-- Test tags :)
					<li><img src="images/sentinel-contacts.svg" />Don<button></button></li>
					<li><img src="images/sentinel-chats.svg" />myplacez design<button></button></li>
					-->
				</ul>
			</div>
		</div>

		<div id="archive-list" data-role="scroller">
			<ul data-role="listview" data-source="archive.dataSource" data-template="archive-template" data-header-template="header-template"></ul>
		</div>

		<div id="archive-empty">Your archive is empty</div>
		<div id="archive-search-empty">Nothing found</div>
	</main>

</div>
<script type="text/x-kendo-template" id="header-template">
    <div>
    	<img class="archive-header-img" src="images/archive-#= value #.svg"> #: value #
    </div>
</script>

<script type="text/x-kendo-template" id="archive-template">
	<header>
		# if (data.message.sender.image) { #
			<img src="#= data.message.sender.image #" />
		# } else { #
			<img src="images/ghost-default.svg" />
		# } #
		<button class="delete" data-role="button" data-click="archiveView.deleteDoc" data-id="#= data.id #"></button>
		<h3>#= data.message.sender.name #</h3><br />
		<p>#= moment(data.message.date).fromNow() # in <strong>#= data.message.channelName #</strong></p>
	</header>
	<div class="message">#= data.message.text #</div>
	# if (data.type === 'Events') { # 
		<div class="event object">
			<h3>#= data.object.name #</h3>
			<p>at <strong>#= data.object.placeName #</strong> #= data.object.address #</p>
			# if (moment().isBefore(data.object.start)) { #
				<span>starts #= moment(data.object.start).fromNow() #</span>
			# } else if (moment().isAfter(data.object.end)) { #
				<span>ended #= moment(data.object.start).fromNow() #</span>
			# } else { #
				<span>happening now! #= moment(data.object.start).format('h:mma') # to #= moment(data.object.end).format('h:mma') #</span>
			# } #
		</div>
	# } #
	# if (data.type === 'Links') { # 
		<div class="link object" data-url="#= data.object.url #">
			<h3>#= data.object.title #</h3>
			<p>#= data.object.url #</p>
		</div>
	# } #
	# if (data.type === 'Photos') { # 
		<div class="photo object">
			<img src="#= data.object.url #" />
			<p><strong>#= data.object.placeName #, #= data.object.address #</strong> <span>#= moment(data.object.date).fromNow() #</span></p>
		</div> 
	# } #
</script>